# The Ultimate OpenClaw Setup Guide üöÄ

> A production-ready blueprint for a single-agent, multi-channel OpenClaw environment.

---

## 1. üèóÔ∏è Infrastructure & File Structure
OpenClaw is highly portable and runs identically on **Ubuntu Linux** (e.g., AWS EC2) and **macOS**.

### üìÇ Core Directory Structure:
Create this folder structure in your User's Home folder:
```text
~/.openclaw/                # Hidden config directory
‚îú‚îÄ‚îÄ openclaw.json           # THE BRAIN: API keys, bots, and agent logic
‚îú‚îÄ‚îÄ workspace/              # THE HEART: Root agent personality and data
‚îÇ   ‚îú‚îÄ‚îÄ SOUL.md             # Defining WHO the AI is
‚îÇ   ‚îú‚îÄ‚îÄ USER.md             # Defining WHO you are
‚îÇ   ‚îú‚îÄ‚îÄ IDENTITY.md         # The Agent's Name & Avatar
‚îÇ   ‚îú‚îÄ‚îÄ HEARTBEAT.md        # Proactive checklist
‚îÇ   ‚îú‚îÄ‚îÄ MEMORY.md           # Long-term curated memories
‚îÇ   ‚îú‚îÄ‚îÄ memory/             # Daily session logs (YYYY-MM-DD.md)
‚îÇ   ‚îî‚îÄ‚îÄ skills/             # Custom scripts/tools
‚îî‚îÄ‚îÄ backup-to-s3.sh         # Redundancy script
```

---

## 2. üí¨ Create Your Channels (The Front Ends)
Before you configure the brain, you need to create the communication lines.

### üîπ Discord Setup
1.  Go to the **[Discord Developer Portal](https://discord.com/developers/applications)**.
2.  Click **New Application** -> **Bot** tab.
3.  Click **Reset Token** to get your `botToken`.
4.  **CRITICAL:** Scroll to **Privileged Gateway Intents** and toggle **ON** "Message Content Intent."
5.  Go to **OAuth2** -> **URL Generator** -> Select `bot` scope + `Administrator` permissions.
6.  Copy the URL and invite the bot to your server.

### üîπ Telegram Setup
1.  Message **[@BotFather](https://t.me/botfather)** on Telegram.
2.  Send `/newbot` and follow the prompts to get your **API Token**.

---

## 3. üß¨ Personalize the Agent
The agent reads these files at the start of **every** session to determine its personality. **Create these in `~/.openclaw/workspace/` before starting.**

- **[SOUL.md](examples/SOUL.md):** Define the "vibe" and "Core Truths."
- **[USER.md](examples/USER.md):** Provide your timezone, goals, and habits.
- **[IDENTITY.md](examples/IDENTITY.md):** Set the agent's name and emoji.
- **[HEARTBEAT.md](examples/HEARTBEAT.md):** Checklist for recurring background tasks.

---

## 4. üß† Configure the Brain: `openclaw.json`
Now, use the tokens from Step 2 to fill out your core configuration at `~/.openclaw/openclaw.json`.

```json
{
  "models": {
    "providers": {
      "google-gemini-cli": { "api": "google-gemini-cli" }
    }
  },
  "channels": {
    "discord": {
      "accounts": {
        "primary": { "botToken": "YOUR_DISCORD_TOKEN", "enabled": true }
      }
    },
    "telegram": {
      "accounts": {
        "mobile": { "botToken": "YOUR_TELEGRAM_TOKEN", "enabled": true }
      }
    }
  },
  "agents": {
    "list": [
      {
        "id": "main",
        "default": true,
        "model": { "primary": "google-gemini-cli/gemini-3-flash-preview" }
      }
    ]
  },
  "bindings": [
    { "agentId": "main", "match": { "channel": "discord", "accountId": "primary" } },
    { "agentId": "main", "match": { "channel": "telegram", "accountId": "mobile" } }
  ]
}
```

---

## 5. üöÄ Liftoff & Google Gemini Auth
Since Gemini uses your actual Google Account, you must complete an OAuth flow in your terminal on the first run.

1.  **Stop any background service:** `openclaw gateway stop`.
2.  **Start manually in terminal:** 
    ```bash
    openclaw gateway start
    ```
3.  **Authenticate:** Copy the **URL** printed in the terminal, sign in via browser, and paste the **Verification Code** back into the terminal.
4.  **Verify:** Message your bot on Discord or Telegram. If it replies, you are live!

---

## 6. ‚å®Ô∏è Management Commands
- `openclaw gateway status`  - Check if the system is running.
- `openclaw gateway restart` - Apply changes made to `openclaw.json`.
- `/status` (in chat) - Check token usage and current model.
- `/compact` (in chat) - Manual context flush to save tokens.

---

## 7. üõ°Ô∏è Security & Redundancy
- **Firewall:** Keep ports 22, 80, and 443 restricted to your **Home IP** only.
- **S3 Sync:** Set up a crontab to sync your workspace to S3 every 6 hours.
- **Git Mirroring:** Use `git remote add mirror <url>` to push to both GitLab and GitHub.

---
*Blueprint generated by tysam ‚Äî Feb 19, 2026*
